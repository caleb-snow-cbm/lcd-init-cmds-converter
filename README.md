# LCD Init Commands Formatter for ESP-IDF

This is a simple script that converts LCD vendor-supplied lists of LCD controller initialization commands into the `*_lcd_init_cmd_t` format. This is a structure format used in many LCD controller drivers on the ESP component registry.

## Raison d'ÃŠtre
Most LCD vendors provide example code that shows how to initialize their product using generic `WriteData`/`WriteCommand` functions that the user could implement. These lists are cumbersome to manually convert to the format used in espressif's drivers.

## How to Use
Provide the script with a text file that contains the list of commands and a json-encoded config file, and the converted commands will be output to stdout.

`./convert_commands.py [cmds_file] -c [config_file]`

## Example
An example is provided in the `example` directory.
The init commands were obtained from: https://www.adafruit.com/product/5805
The config file needs to contain the format of command writes, data writes, and delays. See `example/config.json`.
The output for the example is:
<details>
<summary>See output</summary>

```
{ 0xFF, (uint8_t[]) { 0x77, 0x01, 0x00, 0x00, 0x13 }, 5, 0 },
{ 0xEF, (uint8_t[]) { 0x08 }, 1, 0 },
{ 0xFF, (uint8_t[]) { 0x77, 0x01, 0x00, 0x00, 0x10 }, 5, 0 },
{ 0xC0, (uint8_t[]) { 0x77, 0x00 }, 2, 0 },
{ 0xC1, (uint8_t[]) { 0x09, 0x08 }, 2, 0 },
{ 0xC2, (uint8_t[]) { 0x01, 0x02 }, 2, 0 },
{ 0xC3, (uint8_t[]) { 0x02 }, 1, 0 },
{ 0xCC, (uint8_t[]) { 0x10 }, 1, 0 },
{ 0xB0, (uint8_t[]) { 0x40, 0x14, 0x59, 0x10, 0x12, 0x08, 0x03, 0x09, 0x05, 0x1E, 0x05, 0x14, 0x10, 0x68, 0x33, 0x15 }, 16, 0 },
{ 0xB1, (uint8_t[]) { 0x40, 0x08, 0x53, 0x09, 0x11, 0x09, 0x02, 0x07, 0x09, 0x1A, 0x04, 0x12, 0x12, 0x64, 0x29, 0x29 }, 16, 0 },
{ 0xFF, (uint8_t[]) { 0x77, 0x01, 0x00, 0x00, 0x11 }, 5, 0 },
{ 0xB0, (uint8_t[]) { 0x6D }, 1, 0 },
{ 0xB1, (uint8_t[]) { 0x1D }, 1, 0 },
{ 0xB2, (uint8_t[]) { 0x87 }, 1, 0 },
{ 0xB3, (uint8_t[]) { 0x80 }, 1, 0 },
{ 0xB5, (uint8_t[]) { 0x49 }, 1, 0 },
{ 0xB7, (uint8_t[]) { 0x85 }, 1, 0 },
{ 0xB8, (uint8_t[]) { 0x20 }, 1, 0 },
{ 0xC1, (uint8_t[]) { 0x78 }, 1, 0 },
{ 0xC2, (uint8_t[]) { 0x78 }, 1, 0 },
{ 0xD0, (uint8_t[]) { 0x88 }, 1, 0 },
{ 0xE0, (uint8_t[]) { 0x00, 0x00, 0x02 }, 3, 0 },
{ 0xE1, (uint8_t[]) { 0x02, 0x8C, 0x00, 0x00, 0x03, 0x8C, 0x00, 0x00, 0x00, 0x33, 0x33 }, 11, 0 },
{ 0xE2, (uint8_t[]) { 0x33, 0x33, 0x33, 0x33, 0xC9, 0x3C, 0x00, 0x00, 0xCA, 0x3C, 0x00, 0x00, 0x00 }, 13, 0 },
{ 0xE3, (uint8_t[]) { 0x00, 0x00, 0x33, 0x33 }, 4, 0 },
{ 0xE4, (uint8_t[]) { 0x44, 0x44 }, 2, 0 },
{ 0xE5, (uint8_t[]) { 0x05, 0xCD, 0x82, 0x82, 0x01, 0xC9, 0x82, 0x82, 0x07, 0xCF, 0x82, 0x82, 0x03, 0xCB, 0x82, 0x82 }, 16, 0 },
{ 0xE6, (uint8_t[]) { 0x00, 0x00, 0x33, 0x33 }, 4, 0 },
{ 0xE7, (uint8_t[]) { 0x44, 0x44 }, 2, 0 },
{ 0xE8, (uint8_t[]) { 0x06, 0xCE, 0x82, 0x82, 0x02, 0xCA, 0x82, 0x82, 0x08, 0xD0, 0x82, 0x82, 0x04, 0xCC, 0x82, 0x82 }, 16, 0 },
{ 0xEB, (uint8_t[]) { 0x08, 0x01, 0xE4, 0xE4, 0x88, 0x00, 0x40 }, 7, 0 },
{ 0xEC, (uint8_t[]) { 0x00, 0x00, 0x00 }, 3, 0 },
{ 0xED, (uint8_t[]) { 0xFF, 0xF0, 0x07, 0x65, 0x4F, 0xFC, 0xC2, 0x2F, 0xF2, 0x2C, 0xCF, 0xF4, 0x56, 0x70, 0x0F, 0xFF }, 16, 0 },
{ 0xEF, (uint8_t[]) { 0x10, 0x0D, 0x04, 0x08, 0x3F, 0x1F }, 6, 0 },
{ 0xFF, (uint8_t[]) { 0x77, 0x01, 0x00, 0x00, 0x00 }, 5, 0 },
{ 0x11, (uint8_t[]) { 0x00 }, 0, 0 },
{ 0x35, (uint8_t[]) { 0x00 }, 1, 0 },
{ 0x3A, (uint8_t[]) { 0x66 }, 1, 0 },
{ 0x11, (uint8_t[]) { 0x00 }, 0, 0 },
```

</details>